3

Fully refactor
Added manual tests
